@page
@model EmailModel
@{
    ViewData["Title"] = "Mail Yönetimi";
    ViewData["ActivePage"] = ManageNavPages.Email;
}


<partial name="_StatusMessage" for="StatusMessage" />
<div class="main-content">

    <div class="page-content">

        <section class="page-title-box">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-md-6">
                        <div class="text-center text-white">
                            <h3 class="mb-4">@ViewData["Title"]</h3>

                        </div>
                    </div>
                </div>
            </div>
        </section>
        <div class="position-relative" style="z-index: 1">
            <div class="shape">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 250">
                    <path fill="#FFFFFF" fill-opacity="1"
                          d="M0,192L120,202.7C240,213,480,235,720,234.7C960,235,1200,213,1320,202.7L1440,192L1440,320L1320,320C1200,320,960,320,720,320C480,320,240,320,120,320L0,320Z">
                    </path>
                </svg>
            </div>
        </div>
        <section class="section">
            <div class="container">
                <div class="row">
               
                    <div class="col-12 col-lg-12">
                        <div class="card" id="typography">
                            <div class="p-4 border-bottom">
                                <h5 class="mb-0">@ViewData["Title"]</h5>
                            </div>
                            <div class="card-body p-4">
                                  <form id="email-form" method="post">
                                          <div asp-validation-summary="All" class="text-danger" role="alert"></div>
                                          @if (Model.IsEmailConfirmed)
                                          {
                                              <div class="form-floating mb-3 input-group">
                                                  <input asp-for="Email" class="form-control" placeholder="Please enter your email." disabled />
                                                      <div class="input-group-append">
                                                          <span class="h-100 input-group-text text-success font-weight-bold">✓</span>
                                                      </div>
                                                  <label asp-for="Email" class="form-label"></label>
                                              </div>
                                          }
                                          else
                                          {
                                              <div class="form-floating mb-3">
                                                  <input asp-for="Email" class="form-control" placeholder="Please enter your email." disabled />
                                                  <label asp-for="Email" class="form-label"></label>
                                                  <button id="email-verification" type="submit" asp-page-handler="SendVerificationEmail" class="btn btn-link">Send verification email</button>
                                              </div>
                                          }
                                          <div class="form-floating mb-3">
                                              <input asp-for="Input.NewEmail" class="form-control" autocomplete="email" aria-required="true" placeholder="Please enter new email." />
                                              <label asp-for="Input.NewEmail" class="form-label"></label>
                                              <span asp-validation-for="Input.NewEmail" class="text-danger"></span>
                                          </div>
                                          <button id="change-email-button" type="submit" asp-page-handler="ChangeEmail" class="w-100 btn btn-lg btn-primary">Change email</button>
                                      </form>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </section>

    </div>

    <partial name="PartialViews/_SwitcherAndTopPartial"/>
</div>


@section Scripts {
    <partial name="_ValidationScriptsPartial"/>
}